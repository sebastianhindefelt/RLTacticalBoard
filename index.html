<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="style.css">
        <title>Simple, Static Node.js Server</title>
    </head>
    <body>
        <h1>Simple, Static Node.js Server</h1>
        <canvas id="field" width="200" height="100"></canvas>
        <script src="/socket.io/socket.io.js"></script>
        <script>
            var socket = io.connect();
            var username = 'unnamed';
            var c = document.getElementById("field");
            c.addEventListener('mousedown', handleMouse, false);
            socket.on('changeColor', function (data) {
                //var c = document.getElementById("field");
                //var ctx = c.getContext("2d");
                //ctx.fillStyle = data.color;
                //ctx.fillRect(0,0,150,75);
                //console.log(username+' updated');
            });
            socket.on('username', function(data) {
                username = data.username;
            });
            
            
            function handleMouse() {
                socket.emit('clicked', {username: username});
            }
            </script>
    </body>
</html>